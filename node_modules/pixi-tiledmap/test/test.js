var tmx = require('../');
var path = require('path');
var assert = require('assert');

describe("tilesets", function() {
  it("ability to parse a tmx map", function(done) {
    var target = path.join(__dirname, "tiles.tsx");
    tmx.parseFile(target, function(err, tileSet) {
      if (err) return done(err);

      assert.strictEqual(tileSet.image.height, 192);
      assert.strictEqual(tileSet.tiles.length, 30);
      assert.strictEqual(tileSet.tiles[0].properties.name, "DirtRampRight");
      assert.strictEqual(tileSet.tiles[5].properties.solid, "1");

      done();
    });
  });
});